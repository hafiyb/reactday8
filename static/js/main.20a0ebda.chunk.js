(this.webpackJsonpday7=this.webpackJsonpday7||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),i=a(16),n=a.n(i),c=(a(36),a.p,a(37),a(2)),o=a(8),l=a(9),d=a(12),h=a(11),j=a(7),u=a(1),b=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(u.jsxs)(j.b,{to:{pathname:"/details/".concat(this.props.id)},className:" bg-gray-200 flex flex-row p-4 m-5 w-full rounded-md",children:[Object(u.jsx)("div",{className:" bg-red-500",children:"N/A"!=this.props.image?Object(u.jsx)("img",{className:"h-40",src:this.props.image,alt:""}):Object(u.jsx)("div",{className:"w-32 h-40 bg-black flex flex-col justify-center items-center text-white",children:Object(u.jsx)("p",{children:"N/A"})})}),Object(u.jsxs)("div",{className:"m-2 flex flex-col justify-center",children:[Object(u.jsx)("h1",{className:"text-2xl",children:this.props.title}),Object(u.jsx)("h3",{children:this.props.type}),Object(u.jsx)("h3",{children:this.props.year})]}),Object(u.jsx)("hr",{})]})}}]),a}(s.a.Component),p=a(10),x="FETCH_MOVIE",m=" FETCH_MOVIE_SUCCESS",O=" FETCH_MOVIE_FAIL",f="FETCH_MOVIE_DETAILS",v="FETCH_MOVIE_DETAILS_SUCCESS",g="FETCH_MOVIE_DETAILS_FAIL",y=a(20),w=a.n(y),D=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={movieList:[]},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.movieData;Object.keys(e.data).length>0&&this.setState({movieList:e.data.Search})}},{key:"componentDidUpdate",value:function(e){var t=this.props.movieData;e.movieData.isLoading&&!t.isLoading&&this.setState({movieList:t.data.Search})}},{key:"movieSubmit",value:function(){var e=this._searchInput.value;""!==e&&(this.props.onFetchMovie(e),this._searchInput.value="")}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"bg-gray-400 flex flex-col items-center static",style:{width:"100vw"},children:[Object(u.jsxs)("div",{className:"flex flex-row py-5 px-10 bg-gray-900 text-white justify-between items-center w-full",children:[Object(u.jsx)("h1",{className:"text-xl",children:"Movies here"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{className:"p-3 rounded-lg text-black",type:"text",placeholder:"Search...",ref:function(t){return e._searchInput=t}}),Object(u.jsx)("button",{className:"p-3 border-2 rounded-lg border-black bg-red-600 text-white",onClick:function(){return e.movieSubmit()},children:"Search!"})]})]}),Object(u.jsxs)("div",{className:" w-3/4 h-full m-10 rounded-3xl flex flex-row flex-wrap",children:[console.log(this.state.movieList),this.state.movieList.map((function(e){return Object(u.jsx)(b,{title:e.Title,type:e.Type,year:e.Year,image:e.Poster,id:e.imdbID})})),Object(u.jsx)(b,{})]})]})}}]),a}(s.a.Component),L={onFetchMovie:function(e){return function(t){t({type:x,payload:e});try{w.a.get("https://www.omdbapi.com/?apikey=32d62dad&s=".concat(e,"&page=1")).then((function(e){console.log(e),200===e.status&&"True"==e.data.Response?t({type:m,payload:e.data}):alert("Search failed")})).catch((function(e){console.log("error...",e.response.data.Error),t({type:O,error:e.response.data.error})}))}catch(a){console.log("error...",a),t({type:O,error:a})}}}},N=Object(p.b)((function(e){return{movieData:e.movie}}),L)(D),S=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var r;Object(o.a)(this,a),r=t.call(this,e);var s=window.location.href.split("/"),i=s[s.length-1];return console.log(i),r.state={movieID:i,data:{}},r}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.onFetchMovieDetails(this.state.movieID)}},{key:"componentDidUpdate",value:function(e){console.log(this.props.movieDetailsData.data);var t=this.props.movieDetailsData;e.movieDetailsData.isLoading&&!t.isLoading&&this.setState({data:t.data})}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"bg-gray-400 flex flex-row items-center ",style:{width:"100vw",height:"100vh"},children:Object(u.jsxs)("div",{className:"flex flex-row items-center bg-gray-200 py-20",children:[Object(u.jsx)("div",{className:"flex flex-col items-center ml-20 mr-10",children:this.props.movieDetailsData.isLoading?Object(u.jsx)("h1",{children:"Loading..."}):Object(u.jsxs)("div",{children:[Object(u.jsx)(j.b,{to:"/",children:Object(u.jsx)("button",{className:"p-2 bg-red-600 text-white rounded-lg mb-11",children:"Return"})}),Object(u.jsx)("img",{className:"p-4 rounded-xl bg-gray-500",src:this.state.data.Poster,alt:""})]})}),Object(u.jsxs)("div",{className:"flex flex-col p-2",children:[Object(u.jsx)("h1",{className:"text-2xl underline",children:this.state.data.Title}),Object(u.jsx)("h1",{className:"text-2xl",children:this.state.data.Year}),Object(u.jsxs)("h1",{children:["Rated : ",this.state.data.Rated]}),Object(u.jsxs)("h1",{children:["Released : ",this.state.data.Released]}),Object(u.jsxs)("h1",{children:["Runtime : ",this.state.data.Runtime]}),Object(u.jsxs)("h1",{children:["Genre : ",this.state.data.Genre]}),Object(u.jsxs)("h1",{children:["Director : ",this.state.data.Director]}),Object(u.jsxs)("h1",{children:["Writer : ",this.state.data.Writer]}),Object(u.jsxs)("h1",{children:["Actors : ",this.state.data.Actors]}),Object(u.jsxs)("h1",{children:["Plot : ",this.state.data.Plot]})]})]})})}}]),a}(s.a.Component),k={onFetchMovieDetails:function(e){return function(t){t({type:f});try{w.a.get("https://www.omdbapi.com/?apikey=32d62dad&i=".concat(e)).then((function(e){200==e.status&&t({type:v,payload:e.data})})).catch((function(e){console.log("error...",e),t({type:g,error:e})}))}catch(a){console.log("error...",a),t({type:g,error:a})}}}},E=Object(p.b)((function(e){return{movieDetailsData:e.movieDetails}}),k)(S);var I=function(){return Object(u.jsxs)(c.c,{children:[Object(u.jsx)(c.a,{path:"/details/:id",element:Object(u.jsx)(E,{})}),Object(u.jsx)(c.a,{path:"/reactday8/",element:Object(u.jsx)(N,{})}),Object(u.jsx)(c.a,{path:"/",element:Object(u.jsx)(N,{})})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,i=t.getLCP,n=t.getTTFB;a(e),r(e),s(e),i(e),n(e)}))},F=a(31),_=a(6),T=a(30),M=a.n(T),A=a(3),R=function(e,t){if(void 0===e)return{isLoading:!1,data:{},error:null};switch(t.type){case f:return{isLoading:!0,data:{},error:null};case v:return{isLoading:!1,data:t.payload,error:null};case g:return{isLoading:!1,data:{},error:t.error};default:return e}},H=function(e,t){if(void 0==e)return{isLoading:!1,data:{},error:null};switch(t.type){case x:return{isLoading:!0,data:{},error:null};case m:return{isLoading:!1,data:t.payload,error:null};case O:return{isLoading:!1,data:{},error:t.error};default:return e}},P=Object(A.b)({movie:H,movieDetails:R}),V={key:"root",version:1,storage:M.a},U=Object(_.g)(V,P),B=Object(F.a)({reducer:U,middleware:function(e){return e({serializableCheck:{ignoredActions:[_.a,_.f,_.b,_.c,_.d,_.e]}})}});Object(_.h)(B);n.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(p.a,{store:B,children:Object(u.jsx)(j.a,{children:Object(u.jsx)(I,{})})})}),document.getElementById("root")),C()}},[[65,1,2]]]);
//# sourceMappingURL=main.20a0ebda.chunk.js.map